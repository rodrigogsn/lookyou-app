(this["webpackJsonplookyou-react"]=this["webpackJsonplookyou-react"]||[]).push([[8],{111:function(e,t,n){e.exports=n.p+"static/media/logo.a6bf7305.png"},119:function(e,t,n){e.exports=n(198)},125:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[205,43],"./ion-action-sheet-ios.entry.js":[206,44],"./ion-action-sheet-md.entry.js":[207,45],"./ion-alert-ios.entry.js":[208,24],"./ion-alert-md.entry.js":[209,25],"./ion-app_8-ios.entry.js":[210,11],"./ion-app_8-md.entry.js":[211,12],"./ion-avatar_3-ios.entry.js":[212,46],"./ion-avatar_3-md.entry.js":[213,47],"./ion-back-button-ios.entry.js":[214,48],"./ion-back-button-md.entry.js":[215,49],"./ion-backdrop-ios.entry.js":[216,81],"./ion-backdrop-md.entry.js":[217,82],"./ion-button_2-ios.entry.js":[218,50],"./ion-button_2-md.entry.js":[219,51],"./ion-card_5-ios.entry.js":[220,52],"./ion-card_5-md.entry.js":[221,53],"./ion-checkbox-ios.entry.js":[222,54],"./ion-checkbox-md.entry.js":[223,55],"./ion-chip-ios.entry.js":[224,56],"./ion-chip-md.entry.js":[225,57],"./ion-col_3.entry.js":[226,83],"./ion-datetime_3-ios.entry.js":[227,20],"./ion-datetime_3-md.entry.js":[228,21],"./ion-fab_3-ios.entry.js":[229,58],"./ion-fab_3-md.entry.js":[230,59],"./ion-img.entry.js":[231,84],"./ion-infinite-scroll_2-ios.entry.js":[232,39],"./ion-infinite-scroll_2-md.entry.js":[233,40],"./ion-input-ios.entry.js":[234,60],"./ion-input-md.entry.js":[235,61],"./ion-item-option_3-ios.entry.js":[236,62],"./ion-item-option_3-md.entry.js":[237,63],"./ion-item_8-ios.entry.js":[238,64],"./ion-item_8-md.entry.js":[239,65],"./ion-loading-ios.entry.js":[240,26],"./ion-loading-md.entry.js":[241,27],"./ion-menu_4-ios.entry.js":[242,18],"./ion-menu_4-md.entry.js":[243,19],"./ion-modal-ios.entry.js":[244,14],"./ion-modal-md.entry.js":[245,15],"./ion-nav_5.entry.js":[246,13],"./ion-popover-ios.entry.js":[247,16],"./ion-popover-md.entry.js":[248,17],"./ion-progress-bar-ios.entry.js":[249,66],"./ion-progress-bar-md.entry.js":[250,67],"./ion-radio_2-ios.entry.js":[251,32],"./ion-radio_2-md.entry.js":[252,33],"./ion-range-ios.entry.js":[253,68],"./ion-range-md.entry.js":[254,69],"./ion-refresher_2-ios.entry.js":[255,41],"./ion-refresher_2-md.entry.js":[256,42],"./ion-reorder_2-ios.entry.js":[257,37],"./ion-reorder_2-md.entry.js":[258,38],"./ion-ripple-effect.entry.js":[259,85],"./ion-route_4.entry.js":[260,70],"./ion-searchbar-ios.entry.js":[261,28],"./ion-searchbar-md.entry.js":[262,29],"./ion-segment_2-ios.entry.js":[263,71],"./ion-segment_2-md.entry.js":[264,72],"./ion-select_3-ios.entry.js":[265,34],"./ion-select_3-md.entry.js":[266,35],"./ion-slide_2-ios.entry.js":[267,86],"./ion-slide_2-md.entry.js":[268,87],"./ion-spinner.entry.js":[269,73],"./ion-split-pane-ios.entry.js":[270,88],"./ion-split-pane-md.entry.js":[271,89],"./ion-tab-bar_2-ios.entry.js":[272,74],"./ion-tab-bar_2-md.entry.js":[273,75],"./ion-tab_2.entry.js":[274,36],"./ion-text.entry.js":[275,76],"./ion-textarea-ios.entry.js":[276,77],"./ion-textarea-md.entry.js":[277,78],"./ion-toast-ios.entry.js":[278,30],"./ion-toast-md.entry.js":[279,31],"./ion-toggle-ios.entry.js":[280,22],"./ion-toggle-md.entry.js":[281,23],"./ion-virtual-scroll.entry.js":[282,90]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=125,e.exports=a},126:function(e,t,n){var r={"./ion-icon.entry.js":[286,98]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=126,e.exports=a},131:function(e,t,n){},185:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),s=n(118),i=n(19),u=n(2),l=n(5),m=n.n(l),f=n(16),p=n(37),d=n(6),g=n(34);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=g.b.Storage;function b(){return(b=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get({key:"user"});case 2:return n=e.sent,e.abrupt("return",JSON.parse(n.value));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=Object(r.createContext)(),E={login_data:function(e){return b.apply(this,arguments)}("user")},x=function(e,t){switch(t.type){case"setLogin":return j({},e,{login_data:t.login_data});default:return e}};console.log(E);v.Consumer;var O=n(94),w=n(292),k=n(293),_=n(294),C=(n(131),n(9)),D=n(10),S=n(42),I=n.n(S),U=(I.a.initializeApp({apiKey:"AIzaSyBapA_UAaodFIGtQMzwHW2wEOaMTcsww2A",authDomain:"lookyou-59c92.firebaseapp.com",databaseURL:"https://lookyou-59c92.firebaseio.com",projectId:"lookyou-59c92",storageBucket:"lookyou-59c92.appspot.com",messagingSenderId:"126142889389",appId:"1:126142889389:web:6ccda535b7c7f99d003524",measurementId:"G-Z0R63XMGB2"}),I.a.firestore()),P=I.a.storage(),A=I.a.auth(),L=n(98),z=n.n(L).a.create({baseURL:"https://lookyou-backend.herokuapp.com/"}),N=function(){function e(){Object(C.a)(this,e)}return Object(D.a)(e,null,[{key:"generateUUID",value:function(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))}},{key:"getCurrentUser",value:function(e){return new Promise((function(t,n){var r=e.onAuthStateChanged((function(e){r(),t(e.uid)}),n)}))}}]),e}();N.getDataList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=U.ref(e).limitToLast(n);return r.on("value",(function(e){var n=[];e.forEach((function(e){var t=e.val();t.key=e.key,n.push(t)})),t(n)})),r},N.loginUser=function(e,t,n,r){console.log(e,t),A.signInWithEmailAndPassword(e,t).then((function(e){n(e)})).catch((function(e){r(e)}))},N.uploadImage=function(){var e=Object(d.a)(m.a.mark((function e(t,n,r){var a,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N.generateUUID(),e.next=3,N.getCurrentUser(A);case 3:return o=e.sent,e.next=6,fetch(t).then((function(e){return e.blob()}));case 6:(c=e.sent)&&o&&P.ref().child("images/".concat(o,"/").concat(a,".png")).put(c).then(function(){var e=Object(d.a)(m.a.mark((function e(t){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ref.getDownloadURL().then((function(e){return e}));case 2:return c=e.sent,s={user_id:o,name:"".concat(a,".png"),favorite:0,url:c},e.prev=4,e.next=7,z.post("/images",s);case 7:n(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return r(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),N.getImagesStore=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getCurrentUser(A);case 2:return r=e.sent,e.prev=3,e.next=6,z.get("/images?user_id=".concat(r));case 6:a=e.sent,t(a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),N.removeImage=function(){var e=Object(d.a)(m.a.mark((function e(t,n,r){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getCurrentUser(A);case 2:(a=e.sent)&&P.ref().child("images/".concat(a,"/").concat(t.name)).delete().then(function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.delete("/images/0?name=".concat(t.name));case 3:n(a),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return r(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),N.listLooks=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getCurrentUser(A);case 2:(r=e.sent)&&U.collection("looks").where("user_id","==",r).get().then((function(e){var n=[];e.forEach((function(e){n.push(e.data())})),t(n)})).catch((function(e){return n(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var F=n(99),M=n.n(F),T=n(288),G=n(289),R=n(290),B=n(291),q=g.b.Camera,J=function(e,t){t(e)},W=function(){var e,t=Object(r.useState)("pictures"),n=Object(f.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(!1),i=Object(f.a)(s,2),l=i[0],p=i[1],y=Object(r.useState)(!1),j=Object(f.a)(y,2),h=j[0],b=j[1],E=Object(r.useState)([]),x=Object(f.a)(E,2),O=x[0],w=x[1],k=Object(r.useState)([]),_=Object(f.a)(k,2),C=_[0],D=_[1],S=Object(r.useState)([]),I=Object(f.a)(S,2),U=(I[0],I[1]),P=Object(r.useState)([]),A=Object(f.a)(P,2),L=A[0],z=A[1],F=Object(r.useState)({show:!1,message:"Carregando..."}),W=Object(f.a)(F,2),H=W[0],K=W[1],Q=Object(r.useState)(!1),X=Object(f.a)(Q,2),Z=X[0],V=X[1],Y=Object(r.useState)(!1),$=Object(f.a)(Y,2),ee=$[0],te=$[1],ne=Object(r.useContext)(v),re=(ne.state,ne.dispatch,function(){var e=Object(d.a)(m.a.mark((function e(){var t=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(!(t.length>0&&void 0!==t[0])||t[0])&&K({show:!0,message:"Carregando imagens..."}),N.getImagesStore(function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t),n=t.map((function(e){return e.url})),D(n),N.listLooks(function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(t),K({show:!1,message:"Carregando imagens..."});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){K({show:!1,message:"Carregando imagens..."}),console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){K({show:!1,message:"Carregando imagens..."}),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ae=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure you wish to delete this item?")&&(K({show:!0,message:"Deletando imagem..."}),N.removeImage(t,function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!1),re(!1),console.log(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){K({show:!1,message:"Deletando imagem..."}),console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getPhoto({quality:90,allowEditing:!1,resultType:g.a.DataUrl});case 2:t=e.sent,n=t.dataUrl,U(n),K({show:!0,message:"Salvando Imagem..."}),N.uploadImage(n,function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(!1),console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){K({show:!1,message:"Salvando Imagem..."}),console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){re()}),[]);var ce=C.map((function(e,t){return a.a.createElement(u.j,{size:"4",key:t},a.a.createElement(u.q,{src:e,onClick:function(){te(!0),V(t)}}))})),se=L.map((function(e,t){return console.log(e),a.a.createElement(u.e,null,a.a.createElement(u.s,{lines:"none"},a.a.createElement(u.d,{color:"medium",strong:"true",size:"large",slot:"end",fill:"clear"},a.a.createElement(u.p,{icon:T.a})),a.a.createElement(u.d,{color:"medium",strong:"true",size:"large",slot:"end",fill:"clear"},a.a.createElement(u.p,{icon:G.a}))),a.a.createElement(u.g,null,a.a.createElement(u.h,null,"Look"),a.a.createElement(u.i,null,e.name)),a.a.createElement(u.f,null,a.a.createElement(u.n,null,a.a.createElement(u.y,null,e.images.map((function(e){return a.a.createElement("div",{className:"image-container"},a.a.createElement(u.q,{src:e}))})))),a.a.createElement(u.d,{fill:"outline"},a.a.createElement(u.p,{icon:R.a})," Pe\xe7as")))}));return e="pictures"===o?a.a.createElement(a.a.Fragment,null,a.a.createElement(u.n,{fixed:!0},a.a.createElement(u.y,null,ce)),a.a.createElement(u.l,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(u.m,{onClick:function(){return oe()}},a.a.createElement(u.p,{icon:R.a})))):a.a.createElement(a.a.Fragment,null,se,a.a.createElement(u.l,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(u.m,{onClick:function(){return b(!0)}},a.a.createElement(u.p,{icon:R.a})))),a.a.createElement(u.w,{className:"gallery-page"},a.a.createElement(u.k,null,a.a.createElement(u.E,null,a.a.createElement("h1",null,"Guarda-Roupa"),a.a.createElement("h4",null,"Seu galeria de roupas e acess\xf3rios")),a.a.createElement(u.z,null,a.a.createElement(u.A,{onClick:function(){J("pictures",c)}},a.a.createElement(u.t,null,"Roupas")),a.a.createElement(u.A,{onClick:function(){J("looks",c)}},a.a.createElement(u.t,null,"Looks"))),e,a.a.createElement(u.b,{isOpen:l,onDidDismiss:function(){return p(!1)},buttons:[{text:"Tirar Foto",handler:function(){oe()}},{text:"Carregar Foto",handler:function(){console.log("Carregar Foto")}}]}),a.a.createElement(u.b,{isOpen:h,onDidDismiss:function(){return b(!1)},buttons:[{text:"Adicionar novo look",handler:function(){console.log("Adicionar novo look")}}]}),a.a.createElement(M.a,{imgs:C.map((function(e){return{src:e}})),currImg:Z,isOpen:ee,onClickPrev:function(){return V(Z-1)},onClickNext:function(){return V(Z+1)},onClose:function(){return te(!1)},customControls:[a.a.createElement("button",{key:"1",className:"close_1tcvdj4",onClick:function(){return ae(O[Z])}},a.a.createElement(u.p,{color:"light",size:"large",icon:B.a}))]}),a.a.createElement(u.v,{isOpen:H.show,onDidDismiss:function(){return K({show:!1,message:"Carregando..."})},message:H.message})))},H=n(57),K=(n(183),n(110)),Q=n.n(K),X=Object(H.b)(Q.a),Z=[{title:"Teste",start:new Date,end:new Date,allDay:!0}],V=function(e){return a.a.createElement(u.w,null,a.a.createElement(u.o,null,a.a.createElement(u.G,null,a.a.createElement(u.F,null,"Calend\xe1rio"))),a.a.createElement(u.k,null,a.a.createElement("div",null,a.a.createElement(H.a,{localizer:X,events:Z,startAccessor:"start",endAccessor:"end",style:{height:500}}))))},Y=function(){return a.a.createElement(u.w,null,a.a.createElement(u.o,null,a.a.createElement(u.G,null,a.a.createElement(u.F,null,"Configura\xe7\xf5es"))),a.a.createElement(u.k,null))},$=(n(185),n(111)),ee=n.n($),te=g.b.Storage,ne=function(){var e=Object(d.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.set({key:t,value:JSON.stringify(n)});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(e){var t=Object(r.useState)(""),n=Object(f.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(""),i=Object(f.a)(s,2),l=i[0],p=i[1],g=Object(r.useState)({show:!1,message:"Carregando..."}),y=Object(f.a)(g,2),j=y[0],h=y[1],b=Object(r.useContext)(v),E=(b.state,b.dispatch);return a.a.createElement(u.k,null,a.a.createElement(u.q,{src:ee.a,alt:"Lookyou Logo",className:"logo"}),a.a.createElement(u.s,null,a.a.createElement(u.t,{position:"floating"},"Email"),a.a.createElement(u.r,{value:o,onIonChange:function(e){return c(e.detail.value)}})),a.a.createElement(u.s,null,a.a.createElement(u.t,{position:"floating"},"Senha"),a.a.createElement(u.r,{type:"password",value:l,onIonChange:function(e){return p(e.detail.value)}})),a.a.createElement(u.d,{onClick:function(){!function(e,t,n,r){h({show:!0,message:"Carregando..."}),N.loginUser(t,n,function(){var t=Object(d.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"setLogin",login_data:n}),ne("user",n),h({show:!1,message:"Carregando..."}),e.history.push("/gallery");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){h({show:!1,message:"Carregando..."}),console.log(e)}))}(e,o,l,E)}},"Entrar"),a.a.createElement(u.E,null,a.a.createElement("p",null,"Ainda n\xe3o tem uma conta? ",a.a.createElement("a",null,"Crie sua conta."))),a.a.createElement(u.v,{isOpen:j.show,onDidDismiss:function(){return h({show:!1,message:"Carregando..."})},message:j.message}))},ae=(n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),function(){var e=function(e){var t=e.component,n=Object(s.a)(e,["component"]),o=Object(r.useContext)(v).state;return a.a.createElement(i.b,Object.assign({},n,{render:function(e){return null!==o.login_data?a.a.createElement(t,e):a.a.createElement(i.a,{to:{pathname:"/login"}})}}))};return a.a.createElement(u.c,null,a.a.createElement(O.a,null,a.a.createElement(u.D,null,a.a.createElement(u.x,null,a.a.createElement(i.b,{path:"/",render:function(){return a.a.createElement(i.a,{to:"/login"})},exact:!0}),a.a.createElement(i.b,{path:"/login",component:re,exact:!0}),a.a.createElement(i.b,{path:"/gallery",component:W,exact:!0}),a.a.createElement(e,{path:"/calendar",component:V,exact:!0}),a.a.createElement(e,{path:"/settings",component:Y,exact:!0})),a.a.createElement(u.B,{slot:"bottom"},a.a.createElement(u.C,{tab:"gallery",href:"/gallery"},a.a.createElement(u.p,{icon:w.a}),a.a.createElement(u.t,null,"Galeria")),a.a.createElement(u.C,{tab:"calendar",href:"/calendar"},a.a.createElement(u.p,{icon:k.a}),a.a.createElement(u.t,null,"Calend\xe1rio")),a.a.createElement(u.C,{tab:"settings",href:"/settings"},a.a.createElement(u.p,{icon:_.a}),a.a.createElement(u.t,null,"Config"))))))});n(197);c.a.render(a.a.createElement((function(e){var t=j({},E),n=Object(r.useReducer)(x,t),o=Object(f.a)(n,2),c={state:o[0],dispatch:o[1]};return a.a.createElement(v.Provider,{value:c},e.children)}),null,a.a.createElement(ae,null)),document.getElementById("root"))}},[[119,9,10]]]);
//# sourceMappingURL=main.384767a9.chunk.js.map